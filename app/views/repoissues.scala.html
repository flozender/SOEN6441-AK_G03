@import java.util
@import com.fasterxml.jackson.databind.JsonNode;
@(issues: String)
<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Gitterific!</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

        <style>
        html,
        body {
        }
        body {
            display: -ms-flexbox;
            display: flex;
            -ms-flex-align: center;
            align-items: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #f5f5f5;
        }
        </style>
</head>
<body class="text-center">
	<h1>Repositories Issues</h1><br/>
	<div id="issuesTable" class="repository-results"></div>
</body>
<script>
	let url = window.location.pathname.split("/");
    let username = url.pop();
    let reponame = url.pop();
    let issArray = JSON.parse(@issues);
    
    function getIssues() {
         var table = $("<table><tr><th>Titles</th></tr>");
                        for (let i = 0; i < issArray.length; i++) {
                            table.append("<tr><td>" + issArray[i]["title"] + "</td></tr>")
                        }
                        table.append("</table>")

                        $("#issuesTable").html(table);       
	}
            
            getIssues();

            
</script>
</html>